<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/lapwinglabs/x-ray#readme"

    >x-ray (v2.3.2)</a>
</h1>
<h4>structure any website</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.x-ray">module x-ray</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.x-ray.x-ray">
            function <span class="apidocSignatureSpan"></span>x-ray
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.x-ray.toString">
            function <span class="apidocSignatureSpan">x-ray.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.x-ray" id="apidoc.module.x-ray">module x-ray</a></h1>


    <h2>
        <a href="#apidoc.element.x-ray.x-ray" id="apidoc.element.x-ray.x-ray">
        function <span class="apidocSignatureSpan"></span>x-ray
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Xray(options) {
  var crawler = Crawler()
  options = options || {}
  var filters = options.filters || {}

  function xray (source, scope, selector) {
    var args = params(source, scope, selector)
    selector = args.selector
    source = args.source
    scope = args.context

    var state = objectAssign({}, CONST.INIT_STATE)
    var store = enstore()
    var pages = []
    var stream

    var walkHTML = WalkHTML(xray, selector, scope, filters)
    var request = Request(crawler)

    function node (source2, fn) {
      if (arguments.length === 1) {
        fn = source2
      } else {
        source = source2
      }

      debug(&#x27;params: %j&#x27;, {
        source: source,
        scope: scope,
        selector: selector
      })

      if (isUrl(source)) {
        debug(&#x27;starting at: %s&#x27;, source)
        request(source, function (err, html) {
          if (err) return next(err)
          var $ = load(html, source)
          walkHTML($, next)
        })
      } else if (scope &#x26;&#x26; ~scope.indexOf(&#x27;@&#x27;)) {
        debug(&#x27;resolving to a url: %s&#x27;, scope)
        var url = resolve(source, false, scope, filters)

        // ensure that a@href is a URL
        if (!isUrl(url)) {
          debug(&#x27;%s is not a url. Skipping!&#x27;, url)
          return walkHTML(load(&#x27;&#x27;), next)
        }

        debug(&#x27;resolved &#x22;%s&#x22; to a %s&#x27;, scope, url)
        request(url, function (err, html) {
          if (err) return next(err)
          var $ = load(html, url)
          walkHTML($, next)
        })
      } else if (source) {
        var $ = load(source)
        walkHTML($, next)
      } else {
        debug(&#x27;%s is not a url or html. Skipping!&#x27;, source)
        return walkHTML(load(&#x27;&#x27;), next)
      }

      function next (err, obj, $) {
        if (err) return fn(err)
        var paginate = state.paginate
        var limit = --state.limit

        // create the stream
        if (!stream) {
          if (paginate) stream = streamHelper.array(state.stream)
          else stream = streamHelper.object(state.stream)
        }

        if (paginate) {
          if (isArray(obj)) {
            pages = pages.concat(obj)
          } else {
            pages.push(obj)
          }

          if (limit &#x3c;= 0) {
            debug(&#x27;reached limit, ending&#x27;)
            stream(obj, true)
            return fn(null, pages)
          }

          var url = resolve($, false, paginate, filters)
          debug(&#x27;paginate(%j) =&#x3e; %j&#x27;, paginate, url)

          if (!isUrl(url)) {
            debug(&#x27;%j is not a url, finishing up&#x27;, url)
            stream(obj, true)
            return fn(null, pages)
          }

          stream(obj)

          // debug
          debug(&#x27;paginating %j&#x27;, url)
          isFinite(limit) &#x26;&#x26; debug(&#x27;%s page(s) left to crawl&#x27;, limit)

          request(url, function (err, html) {
            if (err) return next(err)
            var $ = load(html, url)
            walkHTML($, next)
          })
        } else {
          stream(obj, true)
          fn(null, obj)
        }
      }

      return node
    }

    node.paginate = function (paginate) {
      if (!arguments.length) return state.paginate
      state.paginate = paginate
      return node
    }

    node.limit = function (limit) {
      if (!arguments.length) return state.limit
      state.limit = limit
      return node
    }

    node.stream = function () {
      state.stream = store.createWriteStream()
      var rs = store.createReadStream()
      streamHelper.waitCb(rs, node)
      return rs
    }

    node.write = function (path) {
      if (!arguments.length) return node.stream()
      state.stream = fs.createWriteStream(path)
      streamHelper.waitCb(state.stream, node)
      return state.stream
    }

    return node
  }

  CONST.CRAWLER_METHODS.forEach(function (method) {
    xray[method] = function () {
      if (!arguments.length) return crawler[method]()
      crawler[method].apply(crawler, arguments)
      return this
    }
  })

  return xray
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.x-ray.toString" id="apidoc.element.x-ray.toString">
        function <span class="apidocSignatureSpan">x-ray.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return toString;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
